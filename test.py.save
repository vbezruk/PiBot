from telethon import TelegramClient
from telethon.tl.types import UserStatusOnline, UserStatusOffline, ContactStatus
from datetime import datetime
from time import sleep
import asyncio

async def check():
    api_id = 16415945
    api_hash = 'ba1cf49ce4ad6033a0977a76578dc1d0'

    async with TelegramClient('anon', api_id, api_hash) as client:
        #client.loop.run_until_complete(client.send_message('me', 'Hello, myself!'))

        user = await client.get_entity('vladyslavbezruk')

        try:
            if isinstance(user.status, UserStatusOnline):
                print("Online")
            elif isinstance(user.status, UserStatusOffline):
                print(str(user.status.was_online).replace("+00:00", ""))
        except:
             print("Unable to get last seen")


loop = asyncio.get_event_loop()
loop.run_until_complete(check())
loop.close()

'''
from telethon import TelegramClient
from telethon.tl.types import UserStatusOnline, UserStatusOffline, ContactStatus
from datetime import datetime
from time import sleep

api_id = 16415945
api_hash = 'ba1cf49ce4ad6033a0977a76578dc1d0'

sleep(2)

def get_info():
    with TelegramClient('anon', api_id, api_hash) as client:
        client.loop.run_until_complete(client.send_message('me', 'Hello, myself!'))

        user = await client.get_entity('realgemba')

        print(str(user.status.was_online).replace("+00:00", ""))
        
        try:
            if isinstance(user.status, UserStatusOnline):
                print("Online")
            elif isinstance(user.status, UserStatusOffline):
                print(str(user.status.was_online).replace("+00:00", ""))
        except:
            print("Unable to get last seen")
        
get_info()
'''
